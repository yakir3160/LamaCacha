import { View, Dimensions, Text,TextInput,Button, FlatList} from 'react-native';
import { SafeAreaView } from 'react-native-safe-area-context';
import { useState } from 'react';
import { globalStyle } from '../../design/globalStyles';

import Body from '../../components/layout/Body';
import useMovieStore from '../../store/useMovieStore';



const { width, height } = Dimensions.get('window')


export default function App() {
  const [searchText, setSearchText] = useState('');
  const addFavorite = useMovieStore((state) => state.addMovie);
  const handleAdd = () => {
    if (!searchText.trim()) return;







































































































































































































































































































































































































































































































































    
    addFavorite({ id: Date.now(), title: searchText });
    setSearchText('');
  };

  return (
    <SafeAreaView style={globalStyle.container}>
      <View style={{ flex: 1, width: width ,padding: 10, justifyContent: 'space-around' }}>
        <Text>Home</Text>
        <TextInput
          placeholder="Search..."
          value={searchText}
          onChangeText={(text) => {console.log('Search text changed:', text); setSearchText(text);
          }}
          style={{ borderWidth: 1, borderColor: '#ccc', padding: 10, borderRadius: 5 }}
        />
        <Button title="Add to Favorites" onPress={handleAdd} />
        <FlatList
          data={useMovieStore((state) => state.movies)}
          renderItem={({ item }) => <Text>{item.title}</Text>}
          keyExtractor={(item) => item.id.toString()}
        />
      </View>
      {/* <Body /> */}
    </SafeAreaView>


  );
}

